#!/bin/bash

echo "๐ ะะตัะตะทะฐะฟััะบ ัะธััะตะผั AutoParts ั ะธัะฟัะฐะฒะปะตะฝะธัะผะธ..."

# ะััะฐะฝะฐะฒะปะธะฒะฐะตะผ ะฒัะต ะบะพะฝัะตะนะฝะตัั
echo "โน๏ธ ะััะฐะฝะพะฒะบะฐ ะบะพะฝัะตะนะฝะตัะพะฒ..."
docker compose down

# ะฃะดะฐะปัะตะผ ััะฐััะต ะพะฑัะฐะทั
echo "๐๏ธ ะฃะดะฐะปะตะฝะธะต ััะฐััั ะพะฑัะฐะทะพะฒ..."
docker system prune -f

# ะะตัะตัะพะฑะธัะฐะตะผ ะพะฑัะฐะทั
echo "๐จ ะะตัะตัะฑะพัะบะฐ ะพะฑัะฐะทะพะฒ..."
docker compose build --no-cache

# ะะฐะฟััะบะฐะตะผ ัะธััะตะผั
echo "๐ ะะฐะฟััะบ ัะธััะตะผั..."
docker compose up -d

# ะะดะตะผ ะทะฐะฟััะบะฐ
echo "โณ ะะถะธะดะฐะฝะธะต ะทะฐะฟััะบะฐ ัะตัะฒะธัะพะฒ..."
sleep 10

# ะัะพะฒะตััะตะผ ััะฐััั
echo "๐ ะัะพะฒะตัะบะฐ ััะฐัััะฐ..."
docker compose ps

# ะะพะบะฐะทัะฒะฐะตะผ ะปะพะณะธ
echo "๐ ะะพะณะธ ัะธััะตะผั:"
docker compose logs --tail=20

echo "โ ะกะธััะตะผะฐ ะฟะตัะตะทะฐะฟััะตะฝะฐ!"
echo "๐ ะะพัััะฟ ะบ ะฒะตะฑ-ะธะฝัะตััะตะนัั: http://localhost"
echo "๐ค ะะพะณะธะฝ: admin"
echo "๐ ะะฐัะพะปั: admin" 